{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\ROBERTO\\\\PROYECTO KD\\\\react-front\\\\front\\\\src\\\\components\\\\Planillas.js\";\nimport React, { Component } from 'react';\nimport { Table, Card } from 'react-bootstrap';\nimport axios from 'axios';\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\"; //import products from '../planilla/products'\n\nclass Planillas extends Component {\n  constructor(...props) {\n    super(...props);\n\n    this.exportPDF = () => {\n      const unit = \"pt\";\n      const size = \"A4\"; // Use A1, A2, A3 or A4\n\n      const orientation = \"landscape\"; // portrait or landscape\n\n      const marginLeft = 40;\n      const doc = new jsPDF(orientation, unit, size);\n      doc.setFontSize(15);\n      const title = \"Planilla de sueldos\";\n      const headers = [[\"ocupacion\", \"Total a Pagar\"]];\n      const data = this.state.planillaP.map(elt => [elt.idEmpleadoPlanilla.ocupacion, elt.total_ganado]);\n      let content = {\n        startY: 50,\n        head: headers,\n        body: data\n      };\n      doc.text(title, marginLeft, 40);\n      doc.autoTable(content);\n      doc.save(\"report.pdf\");\n    };\n\n    this.state = {\n      planillaP: []\n    };\n  }\n\n  cargarDatos() {\n    fetch('http://localhost:4201/api/planillas', {\n      method: \"GET\",\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      return response.json();\n    }).then(res => {\n      console.log('result', res);\n      this.setState({\n        planillaP: res.planillas\n      });\n    }).catch(function (error) {\n      console.log('Hubo un problema con la peticiÃ³n:' + error.message);\n    });\n  }\n\n  componentDidMount() {\n    this.cargarDatos(); // fetch('http://localhost:4201/api/planilla-mayor')\n    //   .then(res => res.json())\n    //   .then(\n    //     (result) => {\n    //       this.setState({\n    //         planillaP: result.planillaP\n    //       });\n    //     },\n    //     (error) => {\n    //     }\n    //   )\n  }\n\n  render() {\n    const {\n      planillaP\n    } = this.state;\n    console.log('testing', planillaP);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Planilla de sueldos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Planilla detalle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n          variant: \"top\",\n          src: \"holder.js/100px180\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: \"Some quick example text to build on the card title and make up the bulk of the card's content.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        variant: \"dark\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Ocupacion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Fecha de Ingreso\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Fecha de Salida\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Dias Pagados\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Haber Basico\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total Dias pagados\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Bono Antiguedad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Horas Extras\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Importe Horas extras\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Bono Producci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Otros Bonos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total Ganado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Aporte NAcional Solidario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"RC IVA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Anticipos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Otros Descuentos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total Descuentos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Liquido pagable\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Minutos retraso\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: planillaP ? planillaP.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.idEmpleadoPlanilla.ocupacion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.idEmpleadoPlanilla.fecha_ingreso\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.idEmpleadoPlanilla.fecha_salida\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.dias_pagados\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.haber_basico\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.total_dias_pagados\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.bono_antiguedad\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.horas_extras\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.importe_horas_extras\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.bono_produccion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.otros_bonos\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.total_ganado\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.aporte_nal_solidario\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.rc_iva\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.anticipos\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.otros_descuentos\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.total_descuentos\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.liquido_pagable\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.minutos_retraso\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 41\n            }, this)]\n          }, item._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 37\n          }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success\",\n        onClick: () => this.exportPDF(),\n        children: \"Generate Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Planillas;","map":{"version":3,"sources":["D:/ROBERTO/PROYECTO KD/react-front/front/src/components/Planillas.js"],"names":["React","Component","Table","Card","axios","jsPDF","Planillas","constructor","props","exportPDF","unit","size","orientation","marginLeft","doc","setFontSize","title","headers","data","state","planillaP","map","elt","idEmpleadoPlanilla","ocupacion","total_ganado","content","startY","head","body","text","autoTable","save","cargarDatos","fetch","method","then","response","json","res","console","log","setState","planillas","catch","error","message","componentDidMount","render","item","fecha_ingreso","fecha_salida","dias_pagados","haber_basico","total_dias_pagados","bono_antiguedad","horas_extras","importe_horas_extras","bono_produccion","otros_bonos","aporte_nal_solidario","rc_iva","anticipos","otros_descuentos","total_descuentos","liquido_pagable","minutos_retraso","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Table, Card } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\n\r\n//import products from '../planilla/products'\r\nclass Planillas extends Component {\r\n    constructor(...props) {\r\n        super(...props);\r\n        this.state = {\r\n            planillaP: [],\r\n        }\r\n    }\r\n    exportPDF = () => {\r\n        const unit = \"pt\";\r\n        const size = \"A4\"; // Use A1, A2, A3 or A4\r\n        const orientation = \"landscape\"; // portrait or landscape\r\n    \r\n        const marginLeft = 40;\r\n        const doc = new jsPDF(orientation, unit, size);\r\n    \r\n        doc.setFontSize(15);\r\n    \r\n        const title = \"Planilla de sueldos\";\r\n        const headers = [[\"ocupacion\", \"Total a Pagar\"]];\r\n    \r\n        const data = this.state.planillaP.map(elt=> [elt.idEmpleadoPlanilla.ocupacion, elt.total_ganado]);\r\n    \r\n        let content = {\r\n          startY: 50,\r\n          head: headers,\r\n          body: data\r\n        };\r\n    \r\n        doc.text(title, marginLeft, 40);\r\n        doc.autoTable(content);\r\n        doc.save(\"report.pdf\")\r\n      }\r\n    cargarDatos() {\r\n        fetch('http://localhost:4201/api/planillas',\r\n            {\r\n                method: \"GET\",\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n            .then((response) => {\r\n                return response.json()\r\n            })\r\n            .then((res) => {\r\n                console.log('result', res)\r\n                this.setState({\r\n                    planillaP: res.planillas\r\n                })\r\n            })\r\n            .catch(function (error) {\r\n                console.log('Hubo un problema con la peticiÃ³n:' + error.message);\r\n            });\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.cargarDatos();\r\n        // fetch('http://localhost:4201/api/planilla-mayor')\r\n        //   .then(res => res.json())\r\n        //   .then(\r\n        //     (result) => {\r\n        //       this.setState({\r\n\r\n        //         planillaP: result.planillaP\r\n        //       });\r\n        //     },\r\n        //     (error) => {\r\n\r\n        //     }\r\n        //   )\r\n    }\r\n    render() {\r\n        const { planillaP } = this.state;\r\n        console.log('testing', planillaP)\r\n        return (\r\n            <>\r\n                 \r\n                <h1>Planilla de sueldos</h1>\r\n                <h5>Planilla detalle</h5>\r\n                <Card>\r\n                    <Card.Img variant=\"top\" src=\"holder.js/100px180\" />\r\n                    <Card.Body>\r\n                        <Card.Text>\r\n                            Some quick example text to build on the card title and make up the bulk\r\n                            of the card's content.\r\n                         </Card.Text>\r\n                    </Card.Body>\r\n                </Card>\r\n                <br />\r\n                <Table striped bordered hover variant=\"dark\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Ocupacion</th>\r\n                            <th>Fecha de Ingreso</th>\r\n                            <th>Fecha de Salida</th>\r\n                            <th>Dias Pagados</th>\r\n                            <th>Haber Basico</th>\r\n                            <th>Total Dias pagados</th>\r\n                            <th>Bono Antiguedad</th>\r\n                            <th>Horas Extras</th>\r\n                            <th>Importe Horas extras</th>\r\n                            <th>Bono ProducciÃ³n</th>\r\n                            <th>Otros Bonos</th>\r\n                            <th>Total Ganado</th>\r\n                            <th>Aporte NAcional Solidario</th>\r\n                            <th>RC IVA</th>\r\n                            <th>Anticipos</th>\r\n                            <th>Otros Descuentos</th>\r\n                            <th>Total Descuentos</th>\r\n                            <th>Liquido pagable</th>\r\n                            <th>Minutos retraso</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            (planillaP)\r\n                                ?\r\n                                planillaP.map(item => (\r\n                                    <tr key={item._id}>\r\n                                        <td>{item.idEmpleadoPlanilla.ocupacion}</td>\r\n                                        <td>{item.idEmpleadoPlanilla.fecha_ingreso}</td>\r\n                                        <td>{item.idEmpleadoPlanilla.fecha_salida}</td>\r\n                                        <td>{item.dias_pagados}</td>\r\n                                        <td>{item.haber_basico}</td>\r\n                                        <td>{item.total_dias_pagados}</td>\r\n                                        <td>{item.bono_antiguedad}</td>\r\n                                        <td>{item.horas_extras}</td>\r\n                                        <td>{item.importe_horas_extras}</td>\r\n                                        <td>{item.bono_produccion}</td>\r\n                                        <td>{item.otros_bonos}</td>\r\n                                        <td>{item.total_ganado}</td>\r\n                                        <td>{item.aporte_nal_solidario}</td>\r\n                                        <td>{item.rc_iva}</td>\r\n                                        <td>{item.anticipos}</td>\r\n                                        <td>{item.otros_descuentos}</td>\r\n                                        <td>{item.total_descuentos}</td>\r\n                                        <td>{item.liquido_pagable}</td>\r\n                                        <td>{item.minutos_retraso}</td>\r\n                                    </tr>\r\n\r\n                                ))\r\n                                :\r\n                                <tr></tr>}\r\n                    </tbody>\r\n                </Table>\r\n                <button className=\"btn btn-success\" onClick={() => this.exportPDF()}>Generate Report</button>\r\n     \r\n            </>\r\n        )\r\n    }\r\n}\r\nexport default Planillas"]},"metadata":{},"sourceType":"module"}