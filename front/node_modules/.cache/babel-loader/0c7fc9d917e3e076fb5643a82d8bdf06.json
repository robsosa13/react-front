{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\ROBERTO\\\\PROYECTO KD\\\\react-front\\\\front\\\\src\\\\components\\\\Planillas.js\";\nimport React, { Component } from 'react';\nimport { Table, Card } from 'react-bootstrap';\nimport axios from 'axios';\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\"; //import products from '../planilla/products'\n\nclass Planillas extends Component {\n  constructor(...props) {\n    super(...props);\n\n    this.exportPDF = () => {\n      const unit = \"pt\";\n      const size = \"A4\"; // Use A1, A2, A3 or A4\n\n      const orientation = \"landscape\"; // portrait or landscape\n\n      const marginLeft = 40;\n      const doc = new jsPDF(orientation, unit, size);\n      doc.setFontSize(15);\n      const title = \"Planilla de sueldos\";\n      const headers = [[\"Ocupacion\", \"Fecha Ingreso\", \"Días pagados\", \"Haber Básico\", \"Total días pagados\", \"\"]]; // const headers = [[\"Ocupacion\", \"Fecha Ingreso\",\"Días pagados\",\"Haber Básico\",\"Total días pagados\",\"\",\n      // \"Bono de Antiguedad\", \"Total a Pagar\",\"\",\"\",\"\",\"\",\"ocupacion\", \"Total a Pagar\",\"\",\"\",\"\",\"\"]];\n\n      const data = this.state.planillaP.map(elt => [elt.idEmpleadoPlanilla.ocupacion, elt.idEmpleadoPlanilla.fecha_ingreso, elt.dias_pagados, elt.idEmpleadoPlanilla.haber_basico, elt.total_dias_pagados // elt.bono_antiguedad,\n      // elt.horas_extras,\n      // elt.importe_horas_extras,\n      //  elt.bono_produccion,\n      //  elt.otros_bonos,\n      //  elt.total_ganado,\n      //  elt.monto_afp,\n      //  elt.aporte_nal_solidario,\n      //   elt.rc_iva,\n      //   elt.anticipos,\n      //   elt.otros_descuentos,\n      //   elt.total_descuentos,\n      //    elt.liquido_pagable]);\n      ]);\n      let content = {\n        startY: 70,\n        head: headers,\n        body: data\n      };\n      doc.text(title, marginLeft, 40);\n      doc.autoTable(content);\n      doc.save(\"Planilla.pdf\");\n    };\n\n    this.state = {\n      planillaP: []\n    };\n  }\n\n  cargarDatos() {\n    fetch('http://localhost:4201/api/planillas', {\n      method: \"GET\",\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      return response.json();\n    }).then(res => {\n      console.log('result', res);\n      this.setState({\n        planillaP: res.planillas\n      });\n    }).catch(function (error) {\n      console.log('Hubo un problema con la petición:' + error.message);\n    });\n  }\n\n  componentDidMount() {\n    this.cargarDatos(); // fetch('http://localhost:4201/api/planilla-mayor')\n    //   .then(res => res.json())\n    //   .then(\n    //     (result) => {\n    //       this.setState({\n    //         planillaP: result.planillaP\n    //       });\n    //     },\n    //     (error) => {\n    //     }\n    //   )\n  }\n\n  render() {\n    const {\n      planillaP\n    } = this.state;\n    console.log('testing', planillaP);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Planilla de sueldos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Planilla detalle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n          variant: \"top\",\n          src: \"holder.js/100px180\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: \"Some quick example text to build on the card title and make up the bulk of the card's content.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Ocupacion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Fecha de Ingreso\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Fecha de Salida\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Dias Pagados\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Haber Basico\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total Dias pagados\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Bono Antiguedad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Horas Extras\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Importe Horas extras\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Bono Producci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Otros Bonos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total Ganado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Aporte NAcional Solidario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"RC IVA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"AFP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Anticipos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Otros Descuentos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total Descuentos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Liquido pagable\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Minutos retraso\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \" Boleta de pago\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: planillaP ? planillaP.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.idEmpleadoPlanilla.ocupacion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.idEmpleadoPlanilla.fecha_ingreso\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.idEmpleadoPlanilla.fecha_salida\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.dias_pagados\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.haber_basico\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.total_dias_pagados\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.bono_antiguedad\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.horas_extras\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.importe_horas_extras\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.bono_produccion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.otros_bonos\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.total_ganado\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.aporte_nal_solidario\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.rc_iva\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.monto_afp\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.anticipos\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.otros_descuentos\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.total_descuentos\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.liquido_pagable\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.minutos_retraso\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"  \", /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-success\",\n                children: \"Boleta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 41\n            }, this)]\n          }, item._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 37\n          }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success\",\n        onClick: () => this.exportPDF(),\n        children: \"Imprimir Planilla\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Planillas;","map":{"version":3,"sources":["D:/ROBERTO/PROYECTO KD/react-front/front/src/components/Planillas.js"],"names":["React","Component","Table","Card","axios","jsPDF","Planillas","constructor","props","exportPDF","unit","size","orientation","marginLeft","doc","setFontSize","title","headers","data","state","planillaP","map","elt","idEmpleadoPlanilla","ocupacion","fecha_ingreso","dias_pagados","haber_basico","total_dias_pagados","content","startY","head","body","text","autoTable","save","cargarDatos","fetch","method","then","response","json","res","console","log","setState","planillas","catch","error","message","componentDidMount","render","item","fecha_salida","bono_antiguedad","horas_extras","importe_horas_extras","bono_produccion","otros_bonos","total_ganado","aporte_nal_solidario","rc_iva","monto_afp","anticipos","otros_descuentos","total_descuentos","liquido_pagable","minutos_retraso","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Table, Card } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\n\r\n//import products from '../planilla/products'\r\nclass Planillas extends Component {\r\n    constructor(...props) {\r\n        super(...props);\r\n        this.state = {\r\n            planillaP: [],\r\n        }\r\n    }\r\n    exportPDF = () => {\r\n        const unit = \"pt\";\r\n        const size = \"A4\"; // Use A1, A2, A3 or A4\r\n        const orientation = \"landscape\"; // portrait or landscape\r\n    \r\n        const marginLeft = 40;\r\n        const doc = new jsPDF(orientation, unit, size);\r\n    \r\n        doc.setFontSize(15);\r\n    \r\n        const title = \"Planilla de sueldos\";\r\n        const headers = [[\"Ocupacion\", \"Fecha Ingreso\",\"Días pagados\",\"Haber Básico\",\"Total días pagados\",\"\",\r\n      ]];\r\n        // const headers = [[\"Ocupacion\", \"Fecha Ingreso\",\"Días pagados\",\"Haber Básico\",\"Total días pagados\",\"\",\r\n        // \"Bono de Antiguedad\", \"Total a Pagar\",\"\",\"\",\"\",\"\",\"ocupacion\", \"Total a Pagar\",\"\",\"\",\"\",\"\"]];\r\n        const data = this.state.planillaP.map(elt=> [\r\n            elt.idEmpleadoPlanilla.ocupacion,\r\n            elt.idEmpleadoPlanilla.fecha_ingreso,\r\n            elt.dias_pagados,\r\n            elt.idEmpleadoPlanilla.haber_basico,\r\n            elt.total_dias_pagados,\r\n            // elt.bono_antiguedad,\r\n            // elt.horas_extras,\r\n            // elt.importe_horas_extras,\r\n            //  elt.bono_produccion,\r\n            //  elt.otros_bonos,\r\n            //  elt.total_ganado,\r\n            //  elt.monto_afp,\r\n            //  elt.aporte_nal_solidario,\r\n            //   elt.rc_iva,\r\n            //   elt.anticipos,\r\n            //   elt.otros_descuentos,\r\n            //   elt.total_descuentos,\r\n            //    elt.liquido_pagable]);\r\n        ]);\r\n        let content = {\r\n          startY: 70,\r\n          head: headers,\r\n          body: data\r\n        };\r\n    \r\n        doc.text(title, marginLeft, 40);\r\n        doc.autoTable(content);\r\n        doc.save(\"Planilla.pdf\")\r\n      }\r\n    cargarDatos() {\r\n        fetch('http://localhost:4201/api/planillas',\r\n            {\r\n                method: \"GET\",\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n            .then((response) => {\r\n                return response.json()\r\n            })\r\n            .then((res) => {\r\n                console.log('result', res)\r\n                this.setState({\r\n                    planillaP: res.planillas\r\n                })\r\n            })\r\n            .catch(function (error) {\r\n                console.log('Hubo un problema con la petición:' + error.message);\r\n            });\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.cargarDatos();\r\n        // fetch('http://localhost:4201/api/planilla-mayor')\r\n        //   .then(res => res.json())\r\n        //   .then(\r\n        //     (result) => {\r\n        //       this.setState({\r\n\r\n        //         planillaP: result.planillaP\r\n        //       });\r\n        //     },\r\n        //     (error) => {\r\n\r\n        //     }\r\n        //   )\r\n    }\r\n    render() {\r\n        const { planillaP } = this.state;\r\n        console.log('testing', planillaP)\r\n        return (\r\n            <>\r\n                 \r\n                <h1>Planilla de sueldos</h1>\r\n                <h5>Planilla detalle</h5>\r\n                <Card>\r\n                    <Card.Img variant=\"top\" src=\"holder.js/100px180\" />\r\n                    <Card.Body>\r\n                        <Card.Text>\r\n                            Some quick example text to build on the card title and make up the bulk\r\n                            of the card's content.\r\n                         </Card.Text>\r\n                    </Card.Body>\r\n                </Card>\r\n                <br />\r\n                <Table striped bordered hover >\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Ocupacion</th>\r\n                            <th>Fecha de Ingreso</th>\r\n                            <th>Fecha de Salida</th>\r\n                            <th>Dias Pagados</th>\r\n                            <th>Haber Basico</th>\r\n                            <th>Total Dias pagados</th>\r\n                            <th>Bono Antiguedad</th>\r\n                            <th>Horas Extras</th>\r\n                            <th>Importe Horas extras</th>\r\n                            <th>Bono Producción</th>\r\n                            <th>Otros Bonos</th>\r\n                            <th>Total Ganado</th>\r\n                            <th>Aporte NAcional Solidario</th>\r\n                            <th>RC IVA</th>\r\n                            <th>AFP</th>\r\n                            <th>Anticipos</th>\r\n                            <th>Otros Descuentos</th>\r\n                            <th>Total Descuentos</th>\r\n                            <th>Liquido pagable</th>\r\n                            <th>Minutos retraso</th>\r\n                            <th> Boleta de pago</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {(planillaP)?\r\n                                planillaP.map(item => (\r\n                                    <tr key={item._id}>\r\n                                        <td>{item.idEmpleadoPlanilla.ocupacion}</td>\r\n                                        <td>{item.idEmpleadoPlanilla.fecha_ingreso}</td>\r\n                                        <td>{item.idEmpleadoPlanilla.fecha_salida}</td>\r\n                                        <td>{item.dias_pagados}</td>\r\n                                        <td>{item.haber_basico}</td>\r\n                                        <td>{item.total_dias_pagados}</td>\r\n                                        <td>{item.bono_antiguedad}</td>\r\n                                        <td>{item.horas_extras}</td>\r\n                                        <td>{item.importe_horas_extras}</td>\r\n                                        <td>{item.bono_produccion}</td>\r\n                                        <td>{item.otros_bonos}</td>\r\n                                        <td>{item.total_ganado}</td>\r\n                                        <td>{item.aporte_nal_solidario}</td>\r\n                                        <td>{item.rc_iva}</td>\r\n                                        <td>{item.monto_afp}</td>\r\n                                        <td>{item.anticipos}</td>\r\n                                        <td>{item.otros_descuentos}</td>\r\n                                        <td>{item.total_descuentos}</td>\r\n                                        <td>{item.liquido_pagable}</td>\r\n                                        <td>{item.minutos_retraso}</td>\r\n                                        <td>  <button className=\"btn btn-success\" >Boleta</button></td>\r\n                                      \r\n                                    </tr>\r\n\r\n                                ))\r\n                                :\r\n                                <tr></tr>}\r\n                    </tbody>\r\n                </Table>\r\n                <button className=\"btn btn-success\" onClick={() => this.exportPDF()}>Imprimir Planilla</button>\r\n     \r\n            </>\r\n        )\r\n    }\r\n}\r\nexport default Planillas"]},"metadata":{},"sourceType":"module"}