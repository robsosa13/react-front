{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\ROBERTO\\\\PROYECTO KD\\\\react-front\\\\front\\\\src\\\\components\\\\Planillas.js\";\nimport React, { Component } from 'react';\nimport { Table, Card, Container } from 'react-bootstrap';\nimport axios from 'axios';\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nimport moment from \"moment\";\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn; //import products from '../planilla/products'\n\nclass Planillas extends Component {\n  constructor(...props) {\n    super(...props);\n\n    this.printBoleta = item => {\n      console.log(item);\n      fetch('http://localhost:4201/api/planilla/' + item, {\n        method: \"GET\",\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        return response.json();\n      }).then(res => {\n        console.log('PLANILLA !!!', res);\n        this.setState({\n          boletaE: res.planillas\n        });\n        console.log('Test');\n        this.printBoletaEmpleado();\n      }).catch(function (error) {\n        console.log('Hubo un problema con la petición:' + error.message);\n      }); //this.setState({ isEdit: true, id: item.id });\n    };\n\n    this.exportPDF = () => {\n      const unit = \"pt\";\n      const size = \"A2\"; // Use A1, A2, A3 or A4\n\n      const orientation = \"landscape\"; // portrait or landscape\n\n      const marginLeft = 40;\n      const doc = new jsPDF(orientation, unit, size);\n      doc.setFontSize(15);\n      const title = \"Planilla de sueldos\";\n      const headers = [[\"Nombres\", \"Apellido Paterno\", \"Apellido Materno\", \"CI\", \"exp\", \"Fecha de Nacimiento\", \"Sexo\", \"Ocupacion\", \"Fecha Ingreso\", \"Días pagados\", \"Haber Básico\", \"Total días pagados\", \"Bono de Antiguedad\", \"Horas extras\", \"Importe Horas Extras\", \"Bono Produccion\", \"Otros Bonos\", \"Total Ganado\", \"AFP\", \"Aporte Nacional Solidario\", \"RC IVA\", \"Anticipos\", \"Otros Descuentos\", \"Total Descuentos\", \"Liquido pagble\"]];\n      const data = this.state.planillaP.map(elt => [elt.idEmpleadoPlanilla.nombres, elt.idEmpleadoPlanilla.apellidoP, elt.idEmpleadoPlanilla.apellidoM, elt.idEmpleadoPlanilla.CI, elt.idEmpleadoPlanilla.exp, elt.idEmpleadoPlanilla.fecha_nacimiento, elt.idEmpleadoPlanilla.sexo, elt.idEmpleadoPlanilla.ocupacion, moment(elt.idEmpleadoPlanilla.fecha_ingreso).format(\"L\"), elt.dias_pagados, elt.idEmpleadoPlanilla.haber_basico.toFixed(3), elt.total_dias_pagados.toFixed(3), elt.bono_antiguedad.toFixed(3), elt.horas_extras, elt.importe_horas_extras, elt.bono_produccion, elt.otros_bonos, elt.total_ganado.toFixed(3), elt.monto_afp.toFixed(3), elt.aporte_nal_solidario.toFixed(3), elt.rc_iva, elt.anticipos, elt.otros_descuentos, elt.total_descuentos.toFixed(3), elt.liquido_pagable.toFixed(3)]);\n      let content = {\n        startY: 200,\n        head: headers,\n        body: data\n      };\n      doc.text(title, marginLeft, 40);\n      doc.autoTable(content);\n      doc.save(\"Planilla.pdf\");\n    };\n\n    this.state = {\n      planillaP: [],\n      boletaE: []\n    };\n  }\n\n  test() {\n    alert('test');\n  }\n\n  cargarEmpleado() {\n    fetch('http://localhost:4201/api/planillas', {\n      method: \"GET\",\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      return response.json();\n    }).then(res => {\n      console.log('result', res);\n      this.setState({\n        planillaP: res.planillas\n      });\n    }).catch(function (error) {\n      console.log('Hubo un problema con la petición:' + error.message);\n    });\n  }\n\n  printBoletaEmpleado() {\n    const unit = \"pt\";\n    const size = \"A1\";\n    const orientation = \"landscape\";\n    const marginLeft = 40;\n    const doc = new jsPDF(orientation, unit, size);\n    doc.setFontSize(15);\n    const title = \"Boleta de pago \";\n    const headers = [[\"NIT Empresa\", \"Apellido Paterno\", \"Apellido Materno\", \"Nombre\", \"CI\", \"Exp\", \"Cargo\", \"Sueldo Básico\", \"Dias Trabajados\", \"F-Ingreso\", \"Mes boleta\", \"Salario Ganado\", \"Bono de Antiguedad\", \"Horas extras\", \"Otros Ing\", \"AFP\", \"Aporte Nal.\", \"RC IVA\", \"Anticipos otros desc\", \"Total Ingresos\", \"Total Egresos\", \"Liquido Pagable\"]];\n    const data = this.state.boletaE.map(elt => [elt.idPlanillaMayor.nit, elt.idEmpleadoPlanilla.apellidoP, elt.idEmpleadoPlanilla.apellidoM, elt.idEmpleadoPlanilla.nombres, elt.idEmpleadoPlanilla.CI, elt.idEmpleadoPlanilla.exp, elt.idEmpleadoPlanilla.ocupacion, elt.haber_basico, elt.dias_pagados, elt.idEmpleadoPlanilla.fecha_ingreso, elt.idPlanillaMayor.periodo_planilla, elt.haber_basico, elt.bono_antiguedad, elt.importe_horas_extras, elt.otros_bonos, elt.monto_afp, elt.aporte_nal_solidario, elt.rc_iva, elt.otros_descuentos, '', '', elt.liquido_pagable]);\n    let content = {\n      startY: 200,\n      head: headers,\n      body: data\n    };\n    doc.text(title, marginLeft, 40);\n    doc.autoTable(content);\n    doc.save(\"Planilla.pdf\");\n  }\n\n  cargarDatos() {\n    fetch('http://localhost:4201/api/planillas', {\n      method: \"GET\",\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      return response.json();\n    }).then(res => {\n      console.log('result', res);\n      this.setState({\n        planillaP: res.planillas\n      });\n    }).catch(function (error) {\n      console.log('Hubo un problema con la petición:' + error.message);\n    });\n  }\n\n  componentDidMount() {\n    this.cargarDatos(); // fetch('http://localhost:4201/api/planilla-mayor')\n    //   .then(res => res.json())\n    //   .then(\n    //     (result) => {\n    //       this.setState({\n    //         planillaP: result.planillaP\n    //       });\n    //     },\n    //     (error) => {\n    //     }\n    //   )\n  }\n\n  render() {\n    const {\n      planillaP\n    } = this.state;\n    console.log('testing', planillaP);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Planilla de sueldos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Planilla detalle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n          variant: \"top\",\n          src: \"holder.js/100px180\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: \"Some quick example text to build on the card title and make up the bulk of the card's content.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        className: \"table-responsive\",\n        striped: true,\n        bordered: true,\n        hover: true,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Nombres\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Apellido Paterno\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Apellido Materno\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"CI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Exp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Fecha de Nacimiento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Sexo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Ocupacion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Fecha de Ingreso\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Fecha de Salida\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Dias Pagados\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Haber Basico\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total Dias pagados\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Bono Antiguedad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Horas Extras\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Importe Horas extras\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Bono Producci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Otros Bonos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total Ganado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Aporte NAcional Solidario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"RC IVA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"AFP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Anticipos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Otros Descuentos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total Descuentos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Liquido pagable\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Minutos retraso\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \" Boleta de pago\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: planillaP ? planillaP.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.idEmpleadoPlanilla.nombres\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.idEmpleadoPlanilla.apellidoP\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.idEmpleadoPlanilla.apellidoM\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.idEmpleadoPlanilla.CI\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.idEmpleadoPlanilla.exp\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: moment(item.idEmpleadoPlanilla.fecha_nacimiento).format(\"L\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.idEmpleadoPlanilla.sexo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.idEmpleadoPlanilla.ocupacion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: moment(item.idEmpleadoPlanilla.fecha_ingreso).format(\"L\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.idEmpleadoPlanilla.fecha_salida\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.dias_pagados\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.haber_basico\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.total_dias_pagados.toFixed(3)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.bono_antiguedad.toFixed(3)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.horas_extras\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.importe_horas_extras.toFixed(3)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.bono_produccion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.otros_bonos\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.total_ganado.toFixed(3)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.aporte_nal_solidario.toFixed(3)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.rc_iva\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.monto_afp.toFixed(3)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.anticipos\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.otros_descuentos.toFixed(3)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.total_descuentos.toFixed(3)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.liquido_pagable.toFixed(3)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.minutos_retraso\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"  \", /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-success\",\n                onClick: e => this.printBoleta(item._id, e),\n                children: \"Boleta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 43\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 37\n            }, this)]\n          }, item._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 33\n          }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success\",\n        onClick: () => this.exportPDF(),\n        children: \"Imprimir Planilla\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(ExcelFile, {\n        element: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success\",\n          children: \"Download Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 37\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(ExcelSheet, {\n          data: dataSet2,\n          name: \"Leaves\",\n          children: [/*#__PURE__*/_jsxDEV(ExcelColumn, {\n            label: \"Name\",\n            value: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(ExcelColumn, {\n            label: \"Total Leaves\",\n            value: \"total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(ExcelColumn, {\n            label: \"Remaining Leaves\",\n            value: \"remaining\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Planillas;","map":{"version":3,"sources":["D:/ROBERTO/PROYECTO KD/react-front/front/src/components/Planillas.js"],"names":["React","Component","Table","Card","Container","axios","jsPDF","moment","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","Planillas","constructor","props","printBoleta","item","console","log","fetch","method","headers","then","response","json","res","setState","boletaE","planillas","printBoletaEmpleado","catch","error","message","exportPDF","unit","size","orientation","marginLeft","doc","setFontSize","title","data","state","planillaP","map","elt","idEmpleadoPlanilla","nombres","apellidoP","apellidoM","CI","exp","fecha_nacimiento","sexo","ocupacion","fecha_ingreso","format","dias_pagados","haber_basico","toFixed","total_dias_pagados","bono_antiguedad","horas_extras","importe_horas_extras","bono_produccion","otros_bonos","total_ganado","monto_afp","aporte_nal_solidario","rc_iva","anticipos","otros_descuentos","total_descuentos","liquido_pagable","content","startY","head","body","text","autoTable","save","test","alert","cargarEmpleado","idPlanillaMayor","nit","periodo_planilla","cargarDatos","componentDidMount","render","fecha_salida","minutos_retraso","e","_id","dataSet2"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Table, Card, Container } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport moment from \"moment\";\r\nconst ExcelFile = ReactExport.ExcelFile;\r\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\r\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\r\n\r\n//import products from '../planilla/products'\r\nclass Planillas extends Component {\r\n    constructor(...props) {\r\n        super(...props);\r\n        this.state = {\r\n            planillaP: [],\r\n            boletaE:[]\r\n        }\r\n    }\r\n    test(){\r\n        alert('test')\r\n    }\r\n    cargarEmpleado(){\r\n        fetch('http://localhost:4201/api/planillas',\r\n        {\r\n            method: \"GET\",\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((res) => {\r\n            console.log('result', res)\r\n            this.setState({\r\n                planillaP: res.planillas\r\n            })\r\n        })\r\n        .catch(function (error) {\r\n            console.log('Hubo un problema con la petición:' + error.message);\r\n        });\r\n        \r\n    }\r\n    printBoletaEmpleado(){\r\n\r\n        const unit = \"pt\";\r\n        const size = \"A1\";\r\n        const orientation = \"landscape\"; \r\n        const marginLeft = 40;\r\n        const doc = new jsPDF(orientation, unit, size);\r\n        doc.setFontSize(15);\r\n        const title = \"Boleta de pago \";\r\n        const headers = [[ \"NIT Empresa\",\"Apellido Paterno\",\"Apellido Materno\",\"Nombre\",\"CI\",\"Exp\",\"Cargo\"\r\n        ,\"Sueldo Básico\",\"Dias Trabajados\",\"F-Ingreso\",\"Mes boleta\",\"Salario Ganado\",\"Bono de Antiguedad\",\"Horas extras\"\r\n        ,\"Otros Ing\",\"AFP\",\"Aporte Nal.\",\"RC IVA\",\"Anticipos otros desc\",\"Total Ingresos\",\"Total Egresos\",\"Liquido Pagable\"]];\r\n        const data = this.state.boletaE.map(elt => [\r\n            elt.idPlanillaMayor.nit,\r\n            elt.idEmpleadoPlanilla.apellidoP,\r\n            elt.idEmpleadoPlanilla.apellidoM,\r\n            elt.idEmpleadoPlanilla.nombres,\r\n            elt.idEmpleadoPlanilla.CI,\r\n            elt.idEmpleadoPlanilla.exp,\r\n            elt.idEmpleadoPlanilla.ocupacion,\r\n            elt.haber_basico,\r\n            elt.dias_pagados,\r\n            elt.idEmpleadoPlanilla.fecha_ingreso,\r\n            elt.idPlanillaMayor.periodo_planilla,\r\n            elt.haber_basico,\r\n            elt.bono_antiguedad,\r\n            elt.importe_horas_extras,\r\n            elt.otros_bonos,\r\n            elt.monto_afp,\r\n            elt.aporte_nal_solidario,\r\n            elt.rc_iva,\r\n            elt.otros_descuentos,'','',\r\n            elt.liquido_pagable,\r\n           ]);\r\n        let content = {\r\n            startY: 200,\r\n            head: headers,\r\n            body: data\r\n        };\r\n        doc.text(title, marginLeft, 40);\r\n        doc.autoTable(content);\r\n        doc.save(\"Planilla.pdf\")\r\n\r\n    }\r\n    printBoleta = (item) => {\r\n        console.log(item)\r\n        fetch('http://localhost:4201/api/planilla/'+item,\r\n        {\r\n            method: \"GET\",\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((res) => {\r\n            console.log('PLANILLA !!!', res)\r\n            this.setState({\r\n                boletaE: res.planillas\r\n            })\r\n            console.log('Test')\r\n            this.printBoletaEmpleado()\r\n           \r\n        })\r\n        .catch(function (error) {\r\n            console.log('Hubo un problema con la petición:' + error.message);\r\n        });\r\n\r\n        //this.setState({ isEdit: true, id: item.id });\r\n      };\r\n    exportPDF = () => {\r\n\r\n        const unit = \"pt\";\r\n        const size = \"A2\"; // Use A1, A2, A3 or A4\r\n        const orientation = \"landscape\"; // portrait or landscape\r\n        const marginLeft = 40;\r\n        const doc = new jsPDF(orientation, unit, size);\r\n        doc.setFontSize(15);\r\n        const title = \"Planilla de sueldos\";\r\n        const headers = [[ \"Nombres\",\"Apellido Paterno\",\"Apellido Materno\",\"CI\",\"exp\",\"Fecha de Nacimiento\",\"Sexo\",\"Ocupacion\", \"Fecha Ingreso\", \"Días pagados\", \"Haber Básico\", \"Total días pagados\",\r\n            \"Bono de Antiguedad\", \"Horas extras\", \"Importe Horas Extras\", \"Bono Produccion\", \"Otros Bonos\", \"Total Ganado\", \"AFP\",\r\n            \"Aporte Nacional Solidario\", \"RC IVA\", \"Anticipos\", \"Otros Descuentos\", \"Total Descuentos\", \"Liquido pagble\"]];\r\n        const data = this.state.planillaP.map(elt => [\r\n            elt.idEmpleadoPlanilla.nombres,\r\n            elt.idEmpleadoPlanilla.apellidoP,\r\n            elt.idEmpleadoPlanilla.apellidoM,\r\n            elt.idEmpleadoPlanilla.CI,\r\n            elt.idEmpleadoPlanilla.exp,\r\n            elt.idEmpleadoPlanilla.fecha_nacimiento,\r\n            elt.idEmpleadoPlanilla.sexo,\r\n            elt.idEmpleadoPlanilla.ocupacion,\r\n            moment(elt.idEmpleadoPlanilla.fecha_ingreso).format(\"L\"),\r\n            elt.dias_pagados,\r\n            elt.idEmpleadoPlanilla.haber_basico.toFixed(3),\r\n            elt.total_dias_pagados.toFixed(3),\r\n            elt.bono_antiguedad.toFixed(3),\r\n            elt.horas_extras,\r\n            elt.importe_horas_extras,\r\n            elt.bono_produccion,\r\n            elt.otros_bonos,\r\n            elt.total_ganado.toFixed(3),\r\n            elt.monto_afp.toFixed(3),\r\n            elt.aporte_nal_solidario.toFixed(3),\r\n            elt.rc_iva,\r\n            elt.anticipos,\r\n            elt.otros_descuentos,\r\n            elt.total_descuentos.toFixed(3),\r\n            elt.liquido_pagable.toFixed(3)]);\r\n        let content = {\r\n            startY: 200,\r\n            head: headers,\r\n            body: data\r\n        };\r\n\r\n        doc.text(title, marginLeft, 40);\r\n        doc.autoTable(content);\r\n        doc.save(\"Planilla.pdf\")\r\n    }\r\n    cargarDatos() {\r\n        fetch('http://localhost:4201/api/planillas',\r\n            {\r\n                method: \"GET\",\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n            .then((response) => {\r\n                return response.json()\r\n            })\r\n            .then((res) => {\r\n                console.log('result', res)\r\n                this.setState({\r\n                    planillaP: res.planillas\r\n                })\r\n            })\r\n            .catch(function (error) {\r\n                console.log('Hubo un problema con la petición:' + error.message);\r\n            });\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.cargarDatos();\r\n        // fetch('http://localhost:4201/api/planilla-mayor')\r\n        //   .then(res => res.json())\r\n        //   .then(\r\n        //     (result) => {\r\n        //       this.setState({\r\n\r\n        //         planillaP: result.planillaP\r\n        //       });\r\n        //     },\r\n        //     (error) => {\r\n\r\n        //     }\r\n        //   )\r\n    }\r\n    render() {\r\n        const { planillaP } = this.state;\r\n        console.log('testing', planillaP)\r\n        return (\r\n            <>\r\n                <h1>Planilla de sueldos</h1>\r\n                <h5>Planilla detalle</h5>\r\n                <Card>\r\n                    <Card.Img variant=\"top\" src=\"holder.js/100px180\" />\r\n                    <Card.Body>\r\n                        <Card.Text>\r\n                            Some quick example text to build on the card title and make up the bulk\r\n                            of the card's content.\r\n                         </Card.Text>\r\n                    </Card.Body>\r\n                </Card>\r\n                <br />\r\n                <br />\r\n                <br />\r\n                <br />\r\n                <Table className=\"table-responsive\" striped bordered hover >\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Nombres</th>\r\n                            <th>Apellido Paterno</th>\r\n                            <th>Apellido Materno</th>\r\n                            <th>CI</th>\r\n                            <th>Exp</th>\r\n                            <th>Fecha de Nacimiento</th>\r\n                            <th>Sexo</th>\r\n                            <th>Ocupacion</th>\r\n                            <th>Fecha de Ingreso</th>\r\n                            <th>Fecha de Salida</th>\r\n                            <th>Dias Pagados</th>\r\n                            <th>Haber Basico</th>\r\n                            <th>Total Dias pagados</th>\r\n                            <th>Bono Antiguedad</th>\r\n                            <th>Horas Extras</th>\r\n                            <th>Importe Horas extras</th>\r\n                            <th>Bono Producción</th>\r\n                            <th>Otros Bonos</th>\r\n                            <th>Total Ganado</th>\r\n                            <th>Aporte NAcional Solidario</th>\r\n                            <th>RC IVA</th>\r\n                            <th>AFP</th>\r\n                            <th>Anticipos</th>\r\n                            <th>Otros Descuentos</th>\r\n                            <th>Total Descuentos</th>\r\n                            <th>Liquido pagable</th>\r\n                            <th>Minutos retraso</th>\r\n                            <th> Boleta de pago</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {(planillaP) ?\r\n                            planillaP.map(item => (\r\n                                <tr key={item._id}>\r\n                                    <td>{item.idEmpleadoPlanilla.nombres}</td>\r\n                                    <td>{item.idEmpleadoPlanilla.apellidoP}</td>\r\n                                    <td>{item.idEmpleadoPlanilla.apellidoM}</td>\r\n                                    <td>{item.idEmpleadoPlanilla.CI}</td>\r\n                                    <td>{item.idEmpleadoPlanilla.exp}</td>\r\n                                    <td>{moment(item.idEmpleadoPlanilla.fecha_nacimiento).format(\"L\")}</td>\r\n                                    <td>{item.idEmpleadoPlanilla.sexo}</td>\r\n                                    <td>{item.idEmpleadoPlanilla.ocupacion}</td>\r\n                                    <td>{moment(item.idEmpleadoPlanilla.fecha_ingreso).format(\"L\")}</td>\r\n                                    <td>{item.idEmpleadoPlanilla.fecha_salida}</td>\r\n                                    <td>{item.dias_pagados}</td>\r\n                                    <td>{item.haber_basico}</td>\r\n                                    <td>{item.total_dias_pagados.toFixed(3)}</td>\r\n                                    <td>{item.bono_antiguedad.toFixed(3)}</td>\r\n                                    <td>{item.horas_extras}</td>\r\n                                    <td>{item.importe_horas_extras.toFixed(3)}</td>\r\n                                    <td>{item.bono_produccion}</td>\r\n                                    <td>{item.otros_bonos}</td>\r\n                                    <td>{item.total_ganado.toFixed(3)}</td>\r\n                                    <td>{item.aporte_nal_solidario.toFixed(3)}</td>\r\n                                    <td>{item.rc_iva}</td>\r\n                                    <td>{item.monto_afp.toFixed(3)}</td>\r\n                                    <td>{item.anticipos}</td>\r\n                                    <td>{item.otros_descuentos.toFixed(3)}</td>\r\n                                    <td>{item.total_descuentos.toFixed(3)}</td>\r\n                                    <td>{item.liquido_pagable.toFixed(3)}</td>\r\n                                    <td>{item.minutos_retraso}</td>\r\n                                    <td>  <button className=\"btn btn-success\"\r\n                                    onClick={(e) => this.printBoleta(item._id, e)}>\r\n                                    Boleta</button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))\r\n                            :\r\n                            <tr></tr>}\r\n                    </tbody>\r\n                </Table>\r\n               \r\n                <br /> <br />\r\n                <button className=\"btn btn-success\" onClick={() => this.exportPDF()}>Imprimir Planilla</button>\r\n                <br /> <br />\r\n                <ExcelFile element={<button className=\"btn btn-success\">Download Data</button>}>\r\n                {/* <ExcelSheet data={dataSet1} name=\"Employees\">\r\n                    <ExcelColumn label=\"Name\" value=\"name\"/>\r\n                    <ExcelColumn label=\"Wallet Money\" value=\"amount\"/>\r\n                    <ExcelColumn label=\"Gender\" value=\"sex\"/>\r\n                    <ExcelColumn label=\"Marital Status\"\r\n                                 value={(col) => col.is_married ? \"Married\" : \"Single\"}/>\r\n                </ExcelSheet> */}\r\n                <ExcelSheet data={dataSet2} name=\"Leaves\">\r\n                    <ExcelColumn label=\"Name\" value=\"name\"/>\r\n                    <ExcelColumn label=\"Total Leaves\" value=\"total\"/>\r\n                    <ExcelColumn label=\"Remaining Leaves\" value=\"remaining\"/>\r\n                </ExcelSheet>\r\n            </ExcelFile>\r\n            </>\r\n        )\r\n    }\r\n}\r\nexport default Planillas"]},"metadata":{},"sourceType":"module"}